pkgname=firmware-samsung-universal7880
pkgver=1
pkgrel=0
pkgdesc="Firmware for the Samsung devices on Exynos7880 SOC (a5y17lte, a7y17lte)"
url="https://github.com/TheMuppets/proprietary_vendor_samsung"
arch="noarch"
license="proprietary"
options="!check !archcheck !tracedeps pmb:cross-native"

_commit_device="8b6074d8db9095b6ba1b37a273a6d9e7e87711c3"
_repo_device="https://github.com/LineageOS/android_device_samsung_universal7880-common/raw/$_commit_device/configs/wifi"
_prefix_device=$pkgname-$_commit_device

_commit_muppets="385918d85eaf932918584600c621ab5d4b0a1b28"
_repo_muppets="https://github.com/TheMuppets/proprietary_vendor_samsung/raw/$_commit_muppets/universal7880-common/proprietary"
_prefix_muppets=$pkgname-$_commit_muppets

_files_muppets_etc="
bdwlan30.bin
bdwlan32.bin
Data.msc
nvm_tlv_1.3.bin
nvm_tlv_2.1.bin
nvm_tlv_3.0.bin
nvm_tlv_3.2.bin
nvm_tlv.bin
nvm_tlv_tf_1.1.bin
otp30.bin
qwlan30.bin
qwlan30_ibss.bin
rampatch_tlv_1.3.tlv
rampatch_tlv_2.1.tlv
rampatch_tlv_3.0.tlv
rampatch_tlv_3.2.tlv
rampatch_tlv.img
rampatch_tlv_tf_1.1.tlv
utf30.bin
utfbd30.bin
utfbd32.bin
"
_files_muppets_vendor="
fimc_is_lib.bin
mfc_fw.bin
setfile_3p8.bin
setfile_3p8_front.bin
"

source="$_prefix_device-qcom_cfg.ini::$_repo_device/qcom_cfg.ini"
source="$source $_prefix_muppets-sec_s3nrn81_firmware.bin::$_repo_muppets/vendor/firmware/nfc/sec_s3nrn81_firmware.bin"
for _file in $_files_muppets_etc; do
	source="$source $_prefix_muppets-$_file::$_repo_muppets/etc/firmware/$_file"
done
for _file in $_files_muppets_vendor; do
	source="$source $_prefix_muppets-$_file::$_repo_muppets/vendor/firmware/$_file"
done

package() {
	local file
	for file in $_files_muppets_etc $_files_muppets_vendor; do
		install -Dm644 "$srcdir/$_prefix_muppets-$file" \
			"$pkgdir/lib/firmware/postmarketos/$file"
	done

	install -Dm644 "$srcdir/$_prefix_device-qcom_cfg.ini" \
		"$pkgdir/lib/firmware/postmarketos/wlan/qcom_cfg.ini"
	install -Dm644 "$srcdir/$_prefix_muppets-sec_s3nrn81_firmware.bin" \
		"$pkgdir/lib/firmware/postmarketos/nfc/sec_s3nrn81_firmware.bin"

}

sha512sums="bffb9705ad5271cbb5bc6fa971bf3e7f4784251ceefbe634a37794a8ce99c528b644006547a09ac6f4150ee03fa0f2d85aa1e7d4239e9e964eb45b1889005f05  firmware-samsung-universal7880-8b6074d8db9095b6ba1b37a273a6d9e7e87711c3-qcom_cfg.ini
9d139cb1e50c9557591b80d9dde97286059d13582eae4ff43ece32e5ee0d9fac7fd9991d79d44dff7924518c263970ab9443d24dc7d3ab1614e09acb0a6062c1  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-sec_s3nrn81_firmware.bin
de94887f8b4267dd0e6bcf3da8b4c459b82b0fbc1d8e25232b9c00af665cfe85e6eeb998bf7162a19dcf1cb88e05d8feed75fc1a81ec23123392cd1404062b18  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-bdwlan30.bin
063a6da1c99ccdb4a2f99976cd0f4783ad380e4dbb16c8b29fda201f5c64a33774c91cbeebe0916326e69027414185a35b28da24fe7bd3884fd282bf3763ff78  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-bdwlan32.bin
2c860c0f51d6a8bb71c6002fd1b8e1c1a1556089747dc397e480a5b091387bea4451db685379757b7928ea9ea8742b4abf7dc766fe6917c3ab89dd67fbc47e89  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-Data.msc
64a8c2d0e17b202cfb20e5fcf982e1d4b456cc3ad283d6a2b48c411d8fd5241adad491732944825c6c8c34476ca4009f949674187976dd367dc635d75b0f78ea  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-nvm_tlv_1.3.bin
8b9e74b63ad5ec02a79bc106a3680f4f658ec023fb46950d829f3c7a94653a033b1eac8abdb273051c0b3e03266dc94d10835f3e547012579d27227a4ef4dbfd  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-nvm_tlv_2.1.bin
1abc6d3446f3eaec3e49323a641717d8904e103e1e2a04f0248959dc8dbb511de7b9347fe266cfd1b526e0d08292fe4ffac6c894dc74bfd300a954e8310de7ee  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-nvm_tlv_3.0.bin
89cbf5df94e1441b14927c83d373cd99c7fd171ab8ec6d0b32f4d516bffe4b4f55145e8fa702af1d7895514810f33345d1c084d9c290dea87bd5c3a3ad9f2075  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-nvm_tlv_3.2.bin
c55779d41567a0aab43307e5d040c3f77c12ef160e4c7ae4f56710ad00fa3c52195f2f1648eee7cc76c1eb324b53bd3147b169c69f43b4a969219e3b7be6608c  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-nvm_tlv.bin
562db4e69aa53720b3f9dea4fa6e44a141706345098898069ea5e72fb0e60942fec1b70157b37491e1701b76c97682b00f44786d065fa996d9d2199bf386cf22  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-nvm_tlv_tf_1.1.bin
efe30ad31c56edf900a3ee368bfc741f4ecc4c99320bd440bf12e3efab29b4da58b9dbdbe9e229f0779e86fd80a49f8ffad17feef4c92f9680c8685c55bd3c42  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-otp30.bin
b08c76fe4cb88fefa83b2f93c3fc076cfbbbf2315e0321f170929da57a5fa80929ee4da12a292f6911bcb6db418b8ff90755e7bb552e8cd521ec615dcb27be0c  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-qwlan30.bin
acac3bec6197a67fb1475d1a322fd653c3916bea6e1c86001cfc290d4b52c64fd5a19d1fd4af974fba8aa4f4ddaa2a28b1fa6f4e3da2644bede65315f194cfce  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-qwlan30_ibss.bin
ce078725194271bc9fec296eb2a1e759a0b0fa6970401a3fd5d8808a8436bcde60280d29fc691fb37783e990a907986d8255a23c519e356c916209c5044e0a04  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-rampatch_tlv_1.3.tlv
c2399be2dc0121ba5466bcc2ba77ecb8cdef98d0b21bbe5ddb66f2e70a87525ff559b50235f1ad178d585f33adda700ef0942904fd93dee5083ed19afd0e6ddf  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-rampatch_tlv_2.1.tlv
9255a4552d0fec0b8f35843f3907e4ab594b515e829f63ddbaa322d0f19c9e9c6303243541ab700975df09dcb5389466ee95227edc95b64ad8657d92875cffd9  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-rampatch_tlv_3.0.tlv
21f41134524a9102f71219711b307c4e0e8f885ff77ba73bbd4b22e7627175683c54724b2b0dbb450e097d2b2467355b7f6b46473c630b21dd2c9c601f9c654a  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-rampatch_tlv_3.2.tlv
df75f9ec699451dce65f4bd2df91b32c8394ab02b75a2b37c495b5bcac0e48c6808e5672b5aba196d7bd29244bc5c9f63ff301aa50408a6e468821b3e43ffbf6  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-rampatch_tlv.img
6f8bc706bd51a2cc2f53bc20e0780f5013aac7e49831358164d725aeddae08efc0c27ecc6ac578ef3125236cc6c395dfa43064757bfcd2d394920faa30bbb8b6  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-rampatch_tlv_tf_1.1.tlv
83417fadc647fa8898504c10a7346336191a4b08d99cecaf183dd37f5ea511678a3add1e3e4d8e80388fff949e42fcf641968676a09eabb3731aa1f823744327  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-utf30.bin
de94887f8b4267dd0e6bcf3da8b4c459b82b0fbc1d8e25232b9c00af665cfe85e6eeb998bf7162a19dcf1cb88e05d8feed75fc1a81ec23123392cd1404062b18  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-utfbd30.bin
063a6da1c99ccdb4a2f99976cd0f4783ad380e4dbb16c8b29fda201f5c64a33774c91cbeebe0916326e69027414185a35b28da24fe7bd3884fd282bf3763ff78  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-utfbd32.bin
45e9f0f16a5184f1efa1b4bf759a3fde912c6a6d68b5f5fcfdb572f8fea3123ef1a31681463d0373cc5a622d1b66a67f3adb49e79af2caf75bc9f2ce4cbfa49e  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-fimc_is_lib.bin
5ae93bacd8fd07fd5022aad752cbd5fc76b6a9dff7b7b98560338822ecb9aa70b40f4aa77cccbbe0310bb47aada215283474df25827958145a82a2dbe873347c  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-mfc_fw.bin
ecaf29dfdbf891108715bdee34d32100b4421ad88eed84f5bad7ca4ce2477a22ef5fdc0d52aeb61e65e070d34cbb90efe1d6dc900e610de0beb28f0aa88b9574  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-setfile_3p8.bin
5a28607209a13d359e86f3f096997fde44c0b0454416aa010bfbe0701d8a8893f06086b0cbb776110473b0c3a89e9fdc7976cfcae93f6720b31e6d17223c4011  firmware-samsung-universal7880-385918d85eaf932918584600c621ab5d4b0a1b28-setfile_3p8_front.bin"
